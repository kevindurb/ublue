---
name: htpc
description: My personal htpc image

base-image: ghcr.io/ublue-os/silverblue-nvidia
image-version: '40'

modules:
  - from-file: ./shared/snapd.yml
  - type: rpm-ostree
    repos:
      - https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-%OS_VERSION%.noarch.rpm
      - https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-%OS_VERSION%.noarch.rpm
      - https://copr.fedorainfracloud.org/coprs/ublue-os/akmods/repo/fedora-%OS_VERSION%/ublue-os-akmods-fedora-%OS_VERSION%.repo
      - https://copr.fedorainfracloud.org/coprs/sentry/kernel-fsync-staging/repo/fedora-%OS_VERSION%/sentry-kernel-fsync-staging-fedora-%OS_VERSION%.repo-
    install: []

  - type: default-flatpaks
    notify: true
    system:
      install:
        - org.mozilla.firefox
      remove: []
    user:
      install:
        - com.bitwarden.desktop
        - com.freerdp.FreeRDP
        - com.moonlight_stream.Moonlight
        - io.github.elevenhsoft.WebApps
        - net.retrodeck.retrodeck
        - org.fedoraproject.MediaWriter
        - org.prismlauncher.PrismLauncher
        - org.videolan.VLC
        - com.spotify.Client
        - com.github.tchx84.Flatseal

  - type: akmods
    base: main
    install:
      - rtl88xxau

  - type: signing
